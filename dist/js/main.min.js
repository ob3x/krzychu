"use strict";var logginPopup=document.querySelector(".nav-loggin"),btnLoggin=document.querySelector(".nav-box__item-account"),bucketPopup=document.querySelector(".nav-bucket"),btnBucket=document.querySelector(".nav-box__item-bucket"),heartPopup=document.querySelector(".nav-heart"),btnHeart=document.querySelector(".nav-box__item-heart"),popupsBtns=document.querySelectorAll(".popup"),popups=document.querySelectorAll(".popup-box"),delItems=document.querySelectorAll(".nav-heart__box-img"),firstForm=document.querySelector(".form-box"),secoundForm=document.querySelectorAll(".secound-formBox"),returnForm=document.querySelector(".returnForm-box"),reclamationForm=document.querySelector(".reclamationForm-box"),trackForm=document.querySelector(".trackForm-box"),contactForm=document.querySelector(".contactForm-box"),sendForm=document.querySelector(".send-box"),sentTitle=document.querySelector(".sent-form"),firstFormBtn=document.querySelector(".form__btn"),firstEl=document.querySelector(".first-form"),secoundEl=document.querySelector(".secound-form"),thirdEl=document.querySelector(".third-form"),nameInput=document.querySelector(".nameInput"),emailInput=document.querySelector(".emailInput"),select=document.querySelector(".selectChose"),numberInput=document.querySelector(".numberInput"),dataInput=document.querySelector(".dataInput"),productInput=document.querySelector(".productInput"),countInput=document.querySelector(".accountInput"),accoutInput=document.querySelector(".accountInput"),selectReclamation=document.querySelector(".selectReclamation"),secoundProduckt=document.querySelector(".secoundProduckt"),orderInput=document.querySelector(".orderInput"),trackInput=document.querySelector(".trackInput"),formTextarea=document.querySelector(".contactForm-box__textarea"),contactNumber=document.querySelector(".contactNumber"),orderNumber=document.querySelector(".orderNumber"),termOrder=document.querySelector(".termOrder"),fixInput=document.querySelector(".fixInput"),nameProduct=document.querySelector(".productCount"),breakInput=document.querySelector(".breakInput"),selectBack=document.querySelector(".selectBack"),formError=document.querySelector(".form-error"),formTitle=document.querySelector(".form__title"),trailerVideo=document.querySelector(".trailer-box__stop"),heartRed=document.querySelectorAll(".news-item-img__heart"),deleteItems=function(e){e.target.closest(".nav-heart__box").remove()},checkError=function(){""!==nameInput.value&&""!==emailInput.value&&"0"!==select.value?(secoundEl.classList.add("form-steps__item-count--current"),firstForm.classList.add("active"),checkForm()):formError.classList.remove("active")},changeHeart=function(e){e.target.closest(".news-item-img__heart").classList.toggle("heart-red")},checkForm=function(){var e=select.value;formError.classList.add("active"),1==e?(formTitle.textContent="Formularz zwrotów",returnForm.classList.remove("active"),firstFormBtn.addEventListener("click",function(){""!==numberInput.value&&""!==dataInput.value&&""!==productInput.value&&"0"!==selectReclamation.value?changeEl():formError.classList.remove("active")})):2==e?(formTitle.textContent="Formularz reklamacji",reclamationForm.classList.remove("active"),firstFormBtn.addEventListener("click",function(){""!==orderNumber.value&&""!==termOrder.value&&""!==fixInput.value&&""!==nameProduct.value&&""!==breakInput.value&&"0"!==selectBack.value?changeEl():formError.classList.remove("active")})):3==e?(formTitle.textContent="Formularz linku śledzącego",trackForm.classList.remove("active"),firstFormBtn.addEventListener("click",function(){""!==orderInput.value&&""!==trackInput.value?changeEl():formError.classList.remove("active")})):4==e&&(formTitle.textContent="Formularz kontaktowy",contactForm.classList.remove("active"),firstFormBtn.addEventListener("click",function(){""!==contactNumber.value&&""!==formTextarea.value?changeEl():formError.classList.remove("active")}))},changeEl=function(){thirdEl.classList.add("form-steps__item-count--current"),firstFormBtn.classList.add("active"),sentTitle.classList.remove("active"),secoundForm.forEach(function(e){e.classList.add("active")})},checkEnter=(btnHeart.addEventListener("click",function(){heartPopup.classList.toggle("active")}),btnLoggin.addEventListener("click",function(){logginPopup.classList.toggle("active")}),btnBucket.addEventListener("click",function(){bucketPopup.classList.toggle("active")}),function(e){"Enter"===e.key&&secoundProduckt.classList.remove("active"),"Backspace"===e.key&&secoundProduckt.classList.add("active")});delItems.forEach(function(e){e.addEventListener("click",deleteItems)}),window.addEventListener("keyup",checkEnter),trailerVideo.addEventListener("click",function(){trailerVideo.classList.toggle("play"),console.log("elo")}),heartRed.forEach(function(e){e.addEventListener("click",changeHeart)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibG9nZ2luUG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidG5Mb2dnaW4iLCJidWNrZXRQb3B1cCIsImJ0bkJ1Y2tldCIsImhlYXJ0UG9wdXAiLCJidG5IZWFydCIsInBvcHVwc0J0bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVsSXRlbXMiLCJmaXJzdEZvcm0iLCJyZXR1cm5Gb3JtIiwicmVjbGFtYXRpb25Gb3JtIiwidHJhY2tGb3JtIiwiY29udGFjdEZvcm0iLCJzZW5kRm9ybSIsInNlbnRUaXRsZSIsImZpcnN0RWwiLCJ0aGlyZEVsIiwibmFtZUlucHV0IiwiZW1haWxJbnB1dCIsIm51bWJlcklucHV0IiwiZGF0YUlucHV0IiwicHJvZHVjdElucHV0IiwiYWNjb3V0SW5wdXQiLCJzZWxlY3RSZWNsYW1hdGlvbiIsInNlY291bmRQcm9kdWNrdCIsIm9yZGVySW5wdXQiLCJ0cmFja0lucHV0IiwiZm9ybVRleHRhcmVhIiwiY29udGFjdE51bWJlciIsIm9yZGVyTnVtYmVyIiwidGVybU9yZGVyIiwiZml4SW5wdXQiLCJuYW1lUHJvZHVjdCIsInNlbGVjdEJhY2siLCJmb3JtRXJyb3IiLCJmb3JtVGl0bGUiLCJ0cmFpbGVyVmlkZW8iLCJoZWFydFJlZCIsImRlbGV0ZUl0ZW1zIiwiY2hlY2tFcnJvciIsInNlY291bmRFbCIsImNsYXNzTGlzdCIsImFkZCIsImUiLCJ0YXJnZXQiLCJyZW1vdmUiLCJjaGFuZ2VIZWFydCIsInZhbHVlIiwic2VsZWN0Iiwic2VsZWN0VmwiLCJ0ZXh0Q29udGVudCIsImNoZWNrRm9ybSIsImNsb3Nlc3QiLCJ0b2dnbGUiLCJmaXJzdEZvcm1CdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiY2hhbmdlRWwiLCJicmVha0lucHV0IiwiY2hlY2tFbnRlciIsInNlY291bmRGb3JtIiwiZm9yRWFjaCIsImZvcm0iLCJrZXkiLCJpdGVtIiwid2luZG93IiwiY29uc29sZSIsImxvZyIsImhlYXJ0Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxZQUFjQyxTQUFTQyxjQUFjLGFBQWEsRUFDbERDLFVBQVlGLFNBQVNDLGNBQWMsd0JBQXdCLEVBRDNERixZQUFjQyxTQUFTQyxjQUFjLGFBQWMsRUFDbkRDLFVBQVlGLFNBQVNDLGNBQWMsdUJBQXlCLEVBQzVERSxXQUFjSCxTQUFTQyxjQUFjLFlBQWEsRUFDbERHLFNBQVlKLFNBQVNDLGNBQWMsc0JBQXVCLEVBQzFESSxXQUFhTCxTQUFTQyxpQkFBYyxRQUFhLEVBQ2pESyxPQUFXTixTQUFTQyxpQkFBYyxZQUFBLEVBQ2xDTSxTQUFhUCxTQUFTUSxpQkFBaUIscUJBQVMsRUFFaERDLFVBQVdULFNBQVNRLGNBQWlCLFdBQUEsRUFFckNFLFlBQVlWLFNBQVNDLGlCQUFjLGtCQUFZLEVBRy9DVSxXQUFhWCxTQUFTQyxjQUFjLGlCQUFrQixFQUN0RFcsZ0JBQWtCWixTQUFTQyxjQUFjLHNCQUF1QixFQUNoRVksVUFBWWIsU0FBU0MsY0FBYyxnQkFBaUIsRUFDcERhLFlBQWNkLFNBQVNDLGNBQWMsa0JBQW1CLEVBQ3hEYyxTQUFXZixTQUFTQyxjQUFjLFdBQVksRUFDOUNlLFVBQVloQixTQUFTQyxjQUFjLFlBQWEsRUFJaERnQixhQUFVakIsU0FBU0MsY0FBYyxZQUFjLEVBRS9DaUIsUUFBVWxCLFNBQVNDLGNBQWMsYUFBYyxFQUUvQ2tCLFVBQVluQixTQUFTQyxjQUFjLGVBQWEsRUFDaERtQixRQUFVcEIsU0FBV0MsY0FBYyxhQUFDLEVBR3BDb0IsVUFBY3JCLFNBQVNDLGNBQWMsWUFBQSxFQUNyQ3FCLFdBQVl0QixTQUFTQyxjQUFjLGFBQWEsRUFDaERzQixPQUFBQSxTQUFldkIsY0FBU0MsY0FBYyxFQUV0Q3VCLFlBQWN4QixTQUFTQyxjQUFjLGNBQWdCLEVBQ3JEd0IsVUFBQUEsU0FBb0J6QixjQUFTQyxZQUFjLEVBQzNDeUIsYUFBZTFCLFNBQVdDLGNBQWMsZUFBQyxFQUN6QzBCLFdBQWEzQixTQUFTQyxjQUFjLGVBQWMsRUFDbEQyQixZQUFhNUIsU0FBU0MsY0FBYyxlQUFjLEVBQ2xENEIsa0JBQWU3QixTQUFTQyxjQUFjLG9CQUFBLEVBQ3RDNkIsZ0JBQWdCOUIsU0FBU0MsY0FBYyxrQkFBaUIsRUFFeEQ4QixXQUFjL0IsU0FBU0MsY0FBYyxhQUFjLEVBQ25EK0IsV0FBWWhDLFNBQVNDLGNBQWMsYUFBYSxFQUNoRGdDLGFBQVdqQyxTQUFTQyxjQUFjLDRCQUFZLEVBQzlDaUMsY0FBY2xDLFNBQVNDLGNBQWMsZ0JBQWdCLEVBRXJEa0MsWUFBYW5DLFNBQVNDLGNBQWMsY0FBYyxFQUVsRG1DLFVBQVlwQyxTQUFTQyxjQUFjLFlBQWMsRUFDakRvQyxTQUFZckMsU0FBU0MsY0FBYyxXQUFBLEVBRW5DcUMsWUFBZXRDLFNBQVNDLGNBQWMsZUFBQSxFQUN0Q3NDLFdBQVd2QyxTQUFTUSxjQUFpQixhQUFBLEVBRXJDZ0MsV0FBY3hDLFNBQWR3QyxjQUFxQixhQUFBLEVBRTFCSixVQUFBcEMsU0FBQUMsY0FBQSxhQUFBLEVBRUt3QyxVQUFhekMsU0FBYnlDLGNBQW1CLGNBQUEsRUFNdkJDLGFBQVVDLFNBQWMxQyxjQUFBLG9CQUFrQyxFQUMxRFMsU0FBVWlDLFNBQVVDLGlCQUFhLHVCQUFBLEVBRWpDSixZQUFNLFNBQUFLLEdBWlBBLEVBQUVDLE9BYURWLFFBQVVPLGlCQUFpQixFQUFBSSxPQUFTLENBWnRDLEVBZ0JNQyxXQUFjLFdBRW5CLEtBQUE3QixVQUFBOEIsT0FFaUIsS0FBbEI3QixXQUFlNkIsT0FDR0MsTUFBakJBLE9BQU1DLE9BR05ULFVBQUlTLFVBQWVQLElBQUEsaUNBQUEsRUFmbEJsQyxVQWdCQTJCLFVBQVVlLElBQVcsUUFBRyxFQWZ4QkMsVUFnQkExQyxHQWRBeUIsVUFpQkVmLFVBQVk0QixPQUFLLFFBQU8sQ0FmNUIsRUF1QkdELFlBQUEsU0FBQUgsR0FwQkZBLEVBQUVDLE9BcUJDUSxRQUFBLHVCQUFBLEVBQUFYLFVBQUFZLE9BQUEsV0FBQSxDQXBCSixFQXVCRTNDLFVBQUFBLFdBcEJELElBcUJDNEMsRUFBYUMsT0FBQUEsTUFwQmRyQixVQXNCR0wsVUFBV2EsSUFBQ0ssUUFBVSxFQVFoQixHQTVCTEUsR0FDSGQsVUE0QkVELFlBQVVPLG9CQTNCWmhDLFdBNEJDZ0MsVUFBQUksT0FBQSxRQUFBLEVBM0JEUyxhQTRCRUMsaUJBQUEsUUFBQSxXQUVtQixLQUFyQnBCLFlBQVVlLE9BQ1VMLEtBQXBCbEMsVUFBVThCLE9BQ0djLEtBQWJELGFBQWFDLE9BQ2EsTUE1QnhCaEMsa0JBNEJjd0IsTUExQmRTLFNBNEJNLEVBMUJOdEIsVUE0QkRPLFVBQUFJLE9BQUEsUUFBQSxDQUVGLENBQUMsR0FDVUssR0FBVmYsR0EzQkFBLFVBNEJBdkIsWUFBc0JpQyx1QkEzQnRCbkMsZ0JBNEJhNkMsVUFBQUEsT0FBaUIsUUFBUyxFQTNCdkNELGFBNEJLMUIsaUJBQW1CLFFBQVdELFdBRTNCLEtBNUJORSxZQTRCTWtCLE9BQ0lOLEtBNUJWWCxVQTRCQUksT0FDRCxLQTVCQ0gsU0E0QkRnQixPQUNDLEtBQUZmLFlBQUVlLE9BQ0gsS0FBQVUsV0FBQVYsT0FDQSxNQUFBZCxXQUFBYyxNQUdBL0IsU0FBUXlCLEVBRVIzQixVQUFVMkIsVUFBVUksT0FBTyxRQUFTLENBM0JuQyxDQUFDLEdBOEJBLEdBQUFJLEdBQ0ZkLFVBQUFlLFlBQUEsNkJBRUQ5QyxVQUFTbUQsVUFBQUEsT0FBaUIsUUFBUyxFQUNsQ3BELGFBQVdzQyxpQkFBaUIsUUFBUyxXQUNwQyxLQUFBaEIsV0FBQXNCLE9BQUEsS0FBQXJCLFdBQUFxQixNQUNGL0MsU0FBVXVELEVBRVJyQixVQUFBTyxVQUFBSSxPQUFBLFFBQUEsQ0FFRDVDLENBQUFBLEdBQ0MsR0FBQWdELElBRUZkLFVBQU11QixZQUFBQSx1QkFDTDlDLFlBQVM2QixVQUFZSSxPQUFFLFFBQUEsRUE5QnRCUyxhQStCQTlCLGlCQUEwQnFCLFFBQU8sV0FDbEMsS0FBQWpCLGNBQUFtQixPQUFBLEtBQUFwQixhQUFBb0IsTUFDQVMsU0FBUyxFQUVUdEIsVUFBQU8sVUFBQUksT0FBQSxRQUFBLENBR0R0QyxDQUFBQSxFQUVBLEVBR0E2QixTQUFhbUIsV0FoQ1p2QyxRQWlDQW9CLFVBQWFLLElBQUFBLGlDQUF3QixFQWhDckNhLGFBaUNZYixVQUFNQyxJQUFBLFFBQUEsRUFDbEI1QixVQUFDMkIsVUFBQUksT0FBQSxRQUFBLEVBQ0ZjLFlBQUFDLFFBQUEsU0FBQUMsR0FoQ0VBLEVBQUtwQixVQUFVQyxJQUFJLFFBQVEsQ0FrQzdCTCxDQUFBQSxDQWhDQSxFQVlNcUIsWUFWTnRELFNBQVNtRCxpQkFBaUIsUUFBUyxXQUNsQ3BELFdBQVdzQyxVQUFVWSxPQUFPLFFBQVEsQ0FDckMsQ0FBQyxFQUNEckQsVUFBVXVELGlCQUFpQixRQUFTLFdBQ25DMUQsWUFBWTRDLFVBQVVZLE9BQU8sUUFBUSxDQUN0QyxDQUFDLEVBQ0RuRCxVQUFVcUQsaUJBQWlCLFFBQVMsV0FDbkN0RCxZQUFZd0MsVUFBVVksT0FBTyxRQUFRLENBQ3RDLENBQUMsRUFFa0IsU0FBQ1YsR0FDTCxVQUFWQSxFQUFFbUIsS0FDTHRDLGdCQUFnQmlCLFVBQVVJLE9BQU8sUUFBUSxFQUU1QixjQUFWRixFQUFFbUIsS0FDTHRDLGdCQUFnQmlCLFVBQVVDLElBQUksUUFBUSxDQUV4QyxHQUVBbkMsU0FBU3FELFFBQVEsU0FBQ0csR0FDakJBLEVBQUtSLGlCQUFpQixRQUFTakIsV0FBVyxDQUMzQyxDQUFDLEVBRUQwQixPQUFPVCxpQkFBaUIsUUFBU0csVUFBVSxFQUMzQ3RCLGFBQWFtQixpQkFBaUIsUUFBUyxXQUN0Q25CLGFBQWFLLFVBQVVZLE9BQU8sTUFBTSxFQUNwQ1ksUUFBUUMsSUFBSSxLQUFLLENBQ2xCLENBQUMsRUFHRDdCLFNBQVN1QixRQUFRLFNBQUNPLEdBQ2pCQSxFQUFNWixpQkFBaUIsUUFBU1QsV0FBVyxDQUM1QyxDQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbG9nZ2luUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWxvZ2dpbicpO1xyXG5jb25zdCBidG5Mb2dnaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWJveF9faXRlbS1hY2NvdW50Jyk7XHJcbmNvbnN0IGJ1Y2tldFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1idWNrZXQnKTtcclxuY29uc3QgYnRuQnVja2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1ib3hfX2l0ZW0tYnVja2V0Jyk7XHJcbmNvbnN0IGhlYXJ0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LWhlYXJ0Jyk7XHJcbmNvbnN0IGJ0bkhlYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1ib3hfX2l0ZW0taGVhcnQnKTtcclxuY29uc3QgcG9wdXBzQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpO1xyXG5jb25zdCBwb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtYm94Jyk7XHJcbmNvbnN0IGRlbEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1oZWFydF9fYm94LWltZycpO1xyXG5cclxuY29uc3QgZmlyc3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tYm94Jyk7XHJcbmNvbnN0IHNlY291bmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY291bmQtZm9ybUJveCcpO1xyXG5cclxuY29uc3QgcmV0dXJuRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXR1cm5Gb3JtLWJveCcpO1xyXG5jb25zdCByZWNsYW1hdGlvbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjbGFtYXRpb25Gb3JtLWJveCcpO1xyXG5jb25zdCB0cmFja0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhY2tGb3JtLWJveCcpO1xyXG5jb25zdCBjb250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0Rm9ybS1ib3gnKTtcclxuY29uc3Qgc2VuZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZC1ib3gnKTtcclxuY29uc3Qgc2VudFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbnQtZm9ybScpO1xyXG5cclxuY29uc3QgZmlyc3RGb3JtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2J0bicpO1xyXG5cclxuY29uc3QgZmlyc3RFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXJzdC1mb3JtJyk7XHJcbmNvbnN0IHNlY291bmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWNvdW5kLWZvcm0nKTtcclxuY29uc3QgdGhpcmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aGlyZC1mb3JtJyk7XHJcblxyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZUlucHV0Jyk7XHJcbmNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW1haWxJbnB1dCcpO1xyXG5jb25zdCBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0Q2hvc2UnKTtcclxuXHJcbmNvbnN0IG51bWJlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm51bWJlcklucHV0Jyk7XHJcbmNvbnN0IGRhdGFJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRhSW5wdXQnKTtcclxuY29uc3QgcHJvZHVjdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2R1Y3RJbnB1dCcpO1xyXG5jb25zdCBjb3VudElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjY291bnRJbnB1dCcpO1xyXG5jb25zdCBhY2NvdXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY2NvdW50SW5wdXQnKTtcclxuY29uc3Qgc2VsZWN0UmVjbGFtYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0UmVjbGFtYXRpb24nKTtcclxuY29uc3Qgc2Vjb3VuZFByb2R1Y2t0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY291bmRQcm9kdWNrdCcpO1xyXG5jb25zdCBvcmRlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9yZGVySW5wdXQnKTtcclxuY29uc3QgdHJhY2tJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmFja0lucHV0Jyk7XHJcbmNvbnN0IGZvcm1UZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0Rm9ybS1ib3hfX3RleHRhcmVhJyk7XHJcbmNvbnN0IGNvbnRhY3ROdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdE51bWJlcicpO1xyXG5cclxuY29uc3Qgb3JkZXJOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3JkZXJOdW1iZXInKTtcclxuY29uc3QgdGVybU9yZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlcm1PcmRlcicpO1xyXG5jb25zdCBmaXhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhJbnB1dCcpO1xyXG5jb25zdCBuYW1lUHJvZHVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0Q291bnQnKTtcclxuY29uc3QgYnJlYWtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icmVha0lucHV0Jyk7XHJcbmNvbnN0IHNlbGVjdEJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0QmFjaycpO1xyXG5cclxuY29uc3QgZm9ybUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3InKTtcclxuY29uc3QgZm9ybVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RpdGxlJyk7XHJcblxyXG5jb25zdCB0cmFpbGVyVmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhaWxlci1ib3hfX3N0b3AnKTtcclxuY29uc3QgaGVhcnRSZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3cy1pdGVtLWltZ19faGVhcnQnKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUl0ZW1zID0gKGUpID0+IHtcclxuXHRlLnRhcmdldC5jbG9zZXN0KCcubmF2LWhlYXJ0X19ib3gnKS5yZW1vdmUoKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRXJyb3IgPSAoKSA9PiB7XHJcblx0aWYgKFxyXG5cdFx0bmFtZUlucHV0LnZhbHVlICE9PSAnJyAmJlxyXG5cdFx0ZW1haWxJbnB1dC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdHNlbGVjdC52YWx1ZSAhPT0gJzAnXHJcblx0KSB7XHJcblx0XHRzZWNvdW5kRWwuY2xhc3NMaXN0LmFkZCgnZm9ybS1zdGVwc19faXRlbS1jb3VudC0tY3VycmVudCcpO1xyXG5cdFx0Zmlyc3RGb3JtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0Y2hlY2tGb3JtKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VIZWFydCA9IChlKSA9PiB7XHJcblx0ZS50YXJnZXQuY2xvc2VzdCgnLm5ld3MtaXRlbS1pbWdfX2hlYXJ0JykuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhcnQtcmVkJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0Zvcm0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgc2VsZWN0VmwgPSBzZWxlY3QudmFsdWU7XHJcblx0Zm9ybUVycm9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuXHRpZiAoc2VsZWN0VmwgPT0gMSkge1xyXG5cdFx0Zm9ybVRpdGxlLnRleHRDb250ZW50ID0gJ0Zvcm11bGFyeiB6d3JvdMOzdyc7XHJcblx0XHRyZXR1cm5Gb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0Zmlyc3RGb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAoXHJcblx0XHRcdFx0bnVtYmVySW5wdXQudmFsdWUgIT09ICcnICYmXHJcblx0XHRcdFx0ZGF0YUlucHV0LnZhbHVlICE9PSAnJyAmJlxyXG5cdFx0XHRcdHByb2R1Y3RJbnB1dC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdFx0XHRzZWxlY3RSZWNsYW1hdGlvbi52YWx1ZSAhPT0gJzAnXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdGNoYW5nZUVsKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Zm9ybUVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9IGVsc2UgaWYgKHNlbGVjdFZsID09IDIpIHtcclxuXHRcdGZvcm1UaXRsZS50ZXh0Q29udGVudCA9ICdGb3JtdWxhcnogcmVrbGFtYWNqaSc7XHJcblx0XHRyZWNsYW1hdGlvbkZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRmaXJzdEZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRvcmRlck51bWJlci52YWx1ZSAhPT0gJycgJiZcclxuXHRcdFx0XHR0ZXJtT3JkZXIudmFsdWUgIT09ICcnICYmXHJcblx0XHRcdFx0Zml4SW5wdXQudmFsdWUgIT09ICcnICYmXHJcblx0XHRcdFx0bmFtZVByb2R1Y3QudmFsdWUgIT09ICcnICYmXHJcblx0XHRcdFx0YnJlYWtJbnB1dC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdFx0XHRzZWxlY3RCYWNrLnZhbHVlICE9PSAnMCdcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0Y2hhbmdlRWwoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0gZWxzZSBpZiAoc2VsZWN0VmwgPT0gMykge1xyXG5cdFx0Zm9ybVRpdGxlLnRleHRDb250ZW50ID0gJ0Zvcm11bGFyeiBsaW5rdSDFm2xlZHrEhWNlZ28nO1xyXG5cdFx0dHJhY2tGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0Zmlyc3RGb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRpZiAob3JkZXJJbnB1dC52YWx1ZSAhPT0gJycgJiYgdHJhY2tJbnB1dC52YWx1ZSAhPT0gJycpIHtcclxuXHRcdFx0XHRjaGFuZ2VFbCgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvcm1FcnJvci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSBlbHNlIGlmIChzZWxlY3RWbCA9PSA0KSB7XHJcblx0XHRmb3JtVGl0bGUudGV4dENvbnRlbnQgPSAnRm9ybXVsYXJ6IGtvbnRha3Rvd3knO1xyXG5cdFx0Y29udGFjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRmaXJzdEZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdGlmIChjb250YWN0TnVtYmVyLnZhbHVlICE9PSAnJyAmJiBmb3JtVGV4dGFyZWEudmFsdWUgIT09ICcnKSB7XHJcblx0XHRcdFx0Y2hhbmdlRWwoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3JtRXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZUVsID0gKCkgPT4ge1xyXG5cdHRoaXJkRWwuY2xhc3NMaXN0LmFkZCgnZm9ybS1zdGVwc19faXRlbS1jb3VudC0tY3VycmVudCcpO1xyXG5cdGZpcnN0Rm9ybUJ0bi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRzZW50VGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0c2Vjb3VuZEZvcm0uZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG5cdFx0Zm9ybS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHR9KTtcclxufTtcclxuXHJcbmJ0bkhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdGhlYXJ0UG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn0pO1xyXG5idG5Mb2dnaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0bG9nZ2luUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn0pO1xyXG5idG5CdWNrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0YnVja2V0UG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuY29uc3QgY2hlY2tFbnRlciA9IChlKSA9PiB7XHJcblx0aWYgKGUua2V5ID09PSAnRW50ZXInKSB7XHJcblx0XHRzZWNvdW5kUHJvZHVja3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0fVxyXG5cdGlmIChlLmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcclxuXHRcdHNlY291bmRQcm9kdWNrdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5kZWxJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZUl0ZW1zKTtcclxufSk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjaGVja0VudGVyKTtcclxudHJhaWxlclZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdHRyYWlsZXJWaWRlby5jbGFzc0xpc3QudG9nZ2xlKCdwbGF5Jyk7XHJcblx0Y29uc29sZS5sb2coJ2VsbycpO1xyXG59KTtcclxuLy8gZmlyc3RGb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tFcnJvcik7XHJcblxyXG5oZWFydFJlZC5mb3JFYWNoKChoZWFydCkgPT4ge1xyXG5cdGhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlSGVhcnQpO1xyXG59KTtcclxuIl19
